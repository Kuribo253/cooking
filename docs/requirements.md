# 要件定義書 - Cookingゲーム

## 更新履歴
| 日付 | 更新内容 | Claudeの意見 |
|------|----------|--------------|
| 2025-01-08 | 初版作成 - ダンジョン編の基本要件を定義 | Slay the Spireの簡略版として、まずは核となる要素（カードバトル、マップ進行、デッキ構築）に焦点を当てることで、実装可能な範囲に収めています。 |
| 2025-01-08 | 日常編の要件を追加 | ノベルゲーム形式のシンプルな会話システムを採用。実装が容易で、ストーリー展開に集中できる設計にしました。 |

## 1. ゲーム全体の概要
本ゲームは「日常編」と「ダンジョン編」の2つのモードで構成される。
- **日常編**: ノベルゲーム形式でストーリーを進める
- **ダンジョン編**: Slay the Spireをベースとしたローグライクカードゲーム

# 日常編

## 2. 日常編の概要
ノベルゲーム形式で、キャラクターとの会話やストーリーを楽しむモード。

## 3. 日常編の主要機能要件

### 3.1 画面構成
- **背景画像**: シーンに応じた背景を表示
- **キャラクター立ち絵**: 会話中のキャラクターを表示
- **メッセージウィンドウ**: テキストを表示
- **キャラクター名表示**: 発言者の名前を表示

### 3.2 テキスト表示機能
- **文字送り**: 1文字ずつ表示するアニメーション
- **クリックで進行**: 画面クリックで次のテキストへ
- **オートモード**: 自動でテキストを進める機能（オプション）
- **スキップ機能**: 既読テキストの高速スキップ（オプション）

### 3.3 メッセージログ
- **ログ表示**: 過去の会話履歴を確認可能
- **スクロール機能**: ログ内を上下にスクロール
- **ログからの復帰**: ログを閉じて現在の会話に戻る

### 3.4 演出機能
- **キャラクター表情変化**: 複数の表情差分に対応
- **フェードイン/アウト**: 画面遷移時の演出
- **効果音**: クリック音、場面転換音など

### 3.5 データ管理
- **シナリオデータ**: テキストファイルまたはJSONで管理
- **セーブ機能**: 任意の地点でセーブ可能（オプション）

# ダンジョン編

## 4. ダンジョン編の概要
Slay the Spireをベースとしたローグライクカードゲームの簡略版として実装する。

## 5. ダンジョン編のゲームの目的
- プレイヤーはダンジョンを進み、最終ボスを倒すことを目指す
- 各プレイスルーでデッキを構築し、戦略的にバトルを進める

## 6. ダンジョン編の主要機能要件

### 6.1 マップシステム
- **基本構造**: 分岐のあるノード形式のマップ
- **階層数**: 3階層（簡略版のため）
- **ノードタイプ**:
  - 通常戦闘
  - エリート戦闘
  - 休憩地点
  - ショップ
  - イベント
  - ボス戦闘（最終階層のみ）

### 6.2 バトルシステム
- **ターン制バトル**: プレイヤーターン → 敵ターンの繰り返し
- **基本パラメータ**:
  - HP（体力）
  - エナジー（カードを使用するためのコスト）
  - ブロック（防御値、ターン終了時にリセット）

### 6.3 カードシステム
- **カード種類**:
  - アタック（攻撃）
  - スキル（防御・補助）
  - パワー（永続効果）
- **カードパラメータ**:
  - コスト（エナジー消費量）
  - 効果（ダメージ、ブロック値など）
- **初期デッキ**: 10枚程度の基本カード

### 6.4 デッキ構築
- **カード入手方法**:
  - 戦闘勝利報酬
  - ショップで購入
  - イベント報酬
- **デッキ管理**:
  - カード追加
  - カード除去（休憩地点やショップで）

### 6.5 進行システム
- **セーブ機能**: なし（ローグライクのため1回のプレイで完結）
- **難易度**: 固定（簡略版のため）

## 7. 非機能要件
- **プラットフォーム**: PC（Windows）
- **開発環境**: Unity
- **レスポンス**: カード選択やバトル進行がスムーズに動作すること

## 8. 制約事項
- オンライン機能なし
- 1人プレイ専用
- 日本語のみ対応